using Aurora.Framework.ClientInterfaces;
using OpenMetaverse;
using OpenMetaverse.StructuredData;

namespace Aurora.Framework.Services
{
    public interface IInstantMessagingService
    {
        /// <summary>
        ///     The client calls the ChatSessionRequest CAP, which in turn runs this
        ///     This creates conference sessions, does admin functions for sessions, adds users to conferences, and deals with voice calling
        /// </summary>
        /// <param name="caps"></param>
        /// <param name="req"></param>
        /// <returns></returns>
        string ChatSessionRequest(IRegionClientCapsService caps, OSDMap req);

        /// <summary>
        ///     Sends a chat message to a session
        /// </summary>
        /// <param name="agentID"></param>
        /// <param name="im"></param>
        void SendChatToSession(UUID agentID, GridInstantMessage im);

        /// <summary>
        ///     Removes a member from a session
        /// </summary>
        /// <param name="agentID"></param>
        /// <param name="im"></param>
        void DropMemberFromSession(UUID agentID, GridInstantMessage im);

        /// <summary>
        ///     Creates a new group conference session by the given user (will not replace an existing session)
        /// </summary>
        /// <param name="agentID"></param>
        /// <param name="im"></param>
        void CreateGroupChat(UUID agentID, GridInstantMessage im);

        /// <summary>
        ///     Checks to make sure a group conference session exsits for the given group
        /// </summary>
        /// <param name="groupID"></param>
        void EnsureSessionIsStarted(UUID groupID);
    }
}